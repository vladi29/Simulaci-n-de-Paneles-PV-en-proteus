CCS PCM C Compiler, Version 5.095d, 1               25-Aug-20 15:41
Compiler operating in Evaluation Mode
To obtain a fully enabled compiler visit www.ccsinfo.com/products

               Filename:   C:\Users\Usuario\OneDrive\Escritorio\USB\Verano 2020\Electiva de Electronica de Potencia\Proyecto 2\Simulaci-n-de-Paneles-PV-en-proteus\PIC PWM + MPPT2\PIC16f887_MPPT2.lst

               ROM used:   1236 words (15%)
                           Largest free fragment is 2048
               RAM used:   38 (10%) at main() level
                           50 (14%) worst case
               Stack used: 1 locations
               Stack size: 8

0000:  MOVLW  02
0001:  MOVWF  0A
0002:  GOTO   235
0003:  NOP
.................... //Vladimir Alfaro - Universidad Sim?n Bol?var - 09/08/2020 
.................... //Con este c?digo se pretende dise?ar el algoritmo de control MMPT para un microcontrolador PIC16F887
.................... //-----------------------------------------------------------------------------------------------------
.................... 
.................... #include <16f887.h>
.................... //////////// Standard Header file for the PIC16F887 device ////////////////
.................... ///////////////////////////////////////////////////////////////////////////
.................... ////        (C) Copyright 1996, 2020 Custom Computer Services          ////
.................... //// This source code may only be used by licensed users of the CCS C  ////
.................... //// compiler.  This source code may only be distributed to other      ////
.................... //// licensed users of the CCS C compiler.  No other use, reproduction ////
.................... //// or distribution is permitted without written permission.          ////
.................... //// Derivative programs created using this software in object code    ////
.................... //// form are not restricted in any way.                               ////
.................... ///////////////////////////////////////////////////////////////////////////
.................... #device PIC16F887
0004:  MOVLW  8E
0005:  MOVWF  77
0006:  MOVF   3E,W
0007:  MOVWF  78
0008:  MOVF   3D,W
0009:  MOVWF  79
000A:  CLRF   7A
000B:  MOVF   78,F
000C:  BTFSS  03.2
000D:  GOTO   018
000E:  MOVF   79,W
000F:  MOVWF  78
0010:  CLRF   79
0011:  MOVLW  08
0012:  SUBWF  77,F
0013:  MOVF   78,F
0014:  BTFSS  03.2
0015:  GOTO   018
0016:  CLRF   77
0017:  GOTO   020
0018:  BCF    03.0
0019:  BTFSC  78.7
001A:  GOTO   01F
001B:  RLF    79,F
001C:  RLF    78,F
001D:  DECF   77,F
001E:  GOTO   018
001F:  BCF    78.7
0020:  RETURN
0021:  MOVF   3D,W
0022:  BTFSC  03.2
0023:  GOTO   091
0024:  MOVWF  45
0025:  MOVF   41,W
0026:  BTFSC  03.2
0027:  GOTO   091
0028:  ADDWF  45,F
0029:  BTFSC  03.0
002A:  GOTO   032
002B:  MOVLW  7F
002C:  SUBWF  45,F
002D:  BTFSS  03.0
002E:  GOTO   091
002F:  BTFSC  03.2
0030:  GOTO   091
0031:  GOTO   036
0032:  MOVLW  81
0033:  ADDWF  45,F
0034:  BTFSC  03.0
0035:  GOTO   091
0036:  MOVF   45,W
0037:  MOVWF  77
0038:  CLRF   78
0039:  CLRF   79
003A:  CLRF   7A
003B:  MOVF   3E,W
003C:  MOVWF  49
003D:  BSF    49.7
003E:  MOVF   3F,W
003F:  MOVWF  48
0040:  MOVF   40,W
0041:  MOVWF  47
0042:  MOVLW  18
0043:  MOVWF  45
0044:  CLRF   46
0045:  BTFSS  47.0
0046:  GOTO   05F
0047:  MOVF   44,W
0048:  ADDWF  7A,F
0049:  BTFSS  03.0
004A:  GOTO   051
004B:  INCF   79,F
004C:  BTFSS  03.2
004D:  GOTO   051
004E:  INCF   78,F
004F:  BTFSC  03.2
0050:  BSF    46.7
0051:  MOVF   43,W
0052:  ADDWF  79,F
0053:  BTFSS  03.0
0054:  GOTO   058
0055:  INCF   78,F
0056:  BTFSC  03.2
0057:  BSF    46.7
0058:  MOVF   42,W
0059:  MOVWF  3F
005A:  BSF    3F.7
005B:  MOVF   3F,W
005C:  ADDWF  78,F
005D:  BTFSC  03.0
005E:  BSF    46.7
005F:  RLF    46,F
0060:  RRF    78,F
0061:  RRF    79,F
0062:  RRF    7A,F
0063:  RRF    49,F
0064:  RRF    48,F
0065:  RRF    47,F
0066:  BCF    03.0
0067:  DECFSZ 45,F
0068:  GOTO   044
0069:  MOVLW  01
006A:  ADDWF  77,F
006B:  BTFSC  03.0
006C:  GOTO   091
006D:  BTFSC  78.7
006E:  GOTO   076
006F:  RLF    49,F
0070:  RLF    7A,F
0071:  RLF    79,F
0072:  RLF    78,F
0073:  DECF   77,F
0074:  BTFSC  03.2
0075:  GOTO   091
0076:  BTFSS  49.7
0077:  GOTO   087
0078:  INCF   7A,F
0079:  BTFSS  03.2
007A:  GOTO   087
007B:  INCF   79,F
007C:  BTFSS  03.2
007D:  GOTO   087
007E:  INCF   78,F
007F:  BTFSS  03.2
0080:  GOTO   087
0081:  RRF    78,F
0082:  RRF    79,F
0083:  RRF    7A,F
0084:  INCF   77,F
0085:  BTFSC  03.2
0086:  GOTO   091
0087:  MOVF   3E,W
0088:  MOVWF  46
0089:  MOVF   42,W
008A:  XORWF  46,F
008B:  BTFSS  46.7
008C:  GOTO   08F
008D:  BSF    78.7
008E:  GOTO   095
008F:  BCF    78.7
0090:  GOTO   095
0091:  CLRF   77
0092:  CLRF   78
0093:  CLRF   79
0094:  CLRF   7A
0095:  RETURN
0096:  MOVLW  80
0097:  BTFSC  03.1
0098:  XORWF  42,F
0099:  CLRF   47
009A:  CLRF   48
009B:  MOVF   3E,W
009C:  MOVWF  46
009D:  MOVF   42,W
009E:  XORWF  46,F
009F:  MOVF   3D,W
00A0:  BTFSC  03.2
00A1:  GOTO   186
00A2:  MOVWF  45
00A3:  MOVWF  77
00A4:  MOVF   41,W
00A5:  BTFSC  03.2
00A6:  GOTO   18F
00A7:  SUBWF  45,F
00A8:  BTFSC  03.2
00A9:  GOTO   12B
00AA:  BTFSS  03.0
00AB:  GOTO   0E9
00AC:  MOVF   42,W
00AD:  MOVWF  4B
00AE:  BSF    4B.7
00AF:  MOVF   43,W
00B0:  MOVWF  4A
00B1:  MOVF   44,W
00B2:  MOVWF  49
00B3:  CLRF   48
00B4:  BCF    03.0
00B5:  RRF    4B,F
00B6:  RRF    4A,F
00B7:  RRF    49,F
00B8:  RRF    48,F
00B9:  DECFSZ 45,F
00BA:  GOTO   0B3
00BB:  BTFSS  46.7
00BC:  GOTO   0C0
00BD:  BSF    47.0
00BE:  GOTO   1A3
00BF:  BCF    47.0
00C0:  BCF    45.0
00C1:  BSF    47.4
00C2:  MOVLW  40
00C3:  MOVWF  04
00C4:  BCF    03.7
00C5:  GOTO   1B8
00C6:  BCF    47.4
00C7:  BTFSC  46.7
00C8:  GOTO   0D3
00C9:  BTFSS  45.0
00CA:  GOTO   0DE
00CB:  RRF    4B,F
00CC:  RRF    4A,F
00CD:  RRF    49,F
00CE:  RRF    48,F
00CF:  INCF   77,F
00D0:  BTFSC  03.2
00D1:  GOTO   19E
00D2:  GOTO   0DE
00D3:  BTFSC  4B.7
00D4:  GOTO   0E1
00D5:  BCF    03.0
00D6:  RLF    48,F
00D7:  RLF    49,F
00D8:  RLF    4A,F
00D9:  RLF    4B,F
00DA:  DECF   77,F
00DB:  BTFSC  03.2
00DC:  GOTO   19E
00DD:  GOTO   0D3
00DE:  BSF    47.6
00DF:  GOTO   14B
00E0:  BCF    47.6
00E1:  MOVF   3E,W
00E2:  MOVWF  46
00E3:  BTFSS  46.7
00E4:  GOTO   0E7
00E5:  BSF    4B.7
00E6:  GOTO   197
00E7:  BCF    4B.7
00E8:  GOTO   197
00E9:  MOVF   41,W
00EA:  MOVWF  45
00EB:  MOVWF  77
00EC:  MOVF   3D,W
00ED:  SUBWF  45,F
00EE:  MOVF   3E,W
00EF:  MOVWF  4B
00F0:  BSF    4B.7
00F1:  MOVF   3F,W
00F2:  MOVWF  4A
00F3:  MOVF   40,W
00F4:  MOVWF  49
00F5:  CLRF   48
00F6:  BCF    03.0
00F7:  RRF    4B,F
00F8:  RRF    4A,F
00F9:  RRF    49,F
00FA:  RRF    48,F
00FB:  DECFSZ 45,F
00FC:  GOTO   0F5
00FD:  BTFSS  46.7
00FE:  GOTO   102
00FF:  BSF    47.1
0100:  GOTO   1A3
0101:  BCF    47.1
0102:  BCF    45.0
0103:  BSF    47.5
0104:  MOVLW  44
0105:  MOVWF  04
0106:  BCF    03.7
0107:  GOTO   1B8
0108:  BCF    47.5
0109:  BTFSC  46.7
010A:  GOTO   115
010B:  BTFSS  45.0
010C:  GOTO   120
010D:  RRF    4B,F
010E:  RRF    4A,F
010F:  RRF    49,F
0110:  RRF    48,F
0111:  INCF   77,F
0112:  BTFSC  03.2
0113:  GOTO   19E
0114:  GOTO   120
0115:  BTFSC  4B.7
0116:  GOTO   123
0117:  BCF    03.0
0118:  RLF    48,F
0119:  RLF    49,F
011A:  RLF    4A,F
011B:  RLF    4B,F
011C:  DECF   77,F
011D:  BTFSC  03.2
011E:  GOTO   19E
011F:  GOTO   115
0120:  BSF    47.7
0121:  GOTO   14B
0122:  BCF    47.7
0123:  MOVF   42,W
0124:  MOVWF  46
0125:  BTFSS  46.7
0126:  GOTO   129
0127:  BSF    4B.7
0128:  GOTO   197
0129:  BCF    4B.7
012A:  GOTO   197
012B:  MOVF   42,W
012C:  MOVWF  4B
012D:  BSF    4B.7
012E:  MOVF   43,W
012F:  MOVWF  4A
0130:  MOVF   44,W
0131:  MOVWF  49
0132:  BTFSS  46.7
0133:  GOTO   138
0134:  BCF    4B.7
0135:  BSF    47.2
0136:  GOTO   1A3
0137:  BCF    47.2
0138:  CLRF   48
0139:  BCF    45.0
013A:  MOVLW  40
013B:  MOVWF  04
013C:  BCF    03.7
013D:  GOTO   1B8
013E:  BTFSC  46.7
013F:  GOTO   161
0140:  MOVF   3E,W
0141:  MOVWF  46
0142:  BTFSS  45.0
0143:  GOTO   14B
0144:  RRF    4B,F
0145:  RRF    4A,F
0146:  RRF    49,F
0147:  RRF    48,F
0148:  INCF   77,F
0149:  BTFSC  03.2
014A:  GOTO   19E
014B:  BTFSS  48.7
014C:  GOTO   15C
014D:  INCF   49,F
014E:  BTFSS  03.2
014F:  GOTO   15C
0150:  INCF   4A,F
0151:  BTFSS  03.2
0152:  GOTO   15C
0153:  INCF   4B,F
0154:  BTFSS  03.2
0155:  GOTO   15C
0156:  RRF    4B,F
0157:  RRF    4A,F
0158:  RRF    49,F
0159:  INCF   77,F
015A:  BTFSC  03.2
015B:  GOTO   19E
015C:  BTFSC  47.6
015D:  GOTO   0E0
015E:  BTFSC  47.7
015F:  GOTO   122
0160:  GOTO   180
0161:  MOVLW  80
0162:  XORWF  4B,F
0163:  BTFSS  4B.7
0164:  GOTO   169
0165:  GOTO   1A3
0166:  MOVF   42,W
0167:  MOVWF  46
0168:  GOTO   176
0169:  MOVF   3E,W
016A:  MOVWF  46
016B:  MOVF   4B,F
016C:  BTFSS  03.2
016D:  GOTO   176
016E:  MOVF   4A,F
016F:  BTFSS  03.2
0170:  GOTO   176
0171:  MOVF   49,F
0172:  BTFSS  03.2
0173:  GOTO   176
0174:  CLRF   77
0175:  GOTO   197
0176:  BTFSC  4B.7
0177:  GOTO   180
0178:  BCF    03.0
0179:  RLF    48,F
017A:  RLF    49,F
017B:  RLF    4A,F
017C:  RLF    4B,F
017D:  DECFSZ 77,F
017E:  GOTO   176
017F:  GOTO   19E
0180:  BTFSS  46.7
0181:  GOTO   184
0182:  BSF    4B.7
0183:  GOTO   197
0184:  BCF    4B.7
0185:  GOTO   197
0186:  MOVF   41,W
0187:  MOVWF  77
0188:  MOVF   42,W
0189:  MOVWF  4B
018A:  MOVF   43,W
018B:  MOVWF  4A
018C:  MOVF   44,W
018D:  MOVWF  49
018E:  GOTO   197
018F:  MOVF   3D,W
0190:  MOVWF  77
0191:  MOVF   3E,W
0192:  MOVWF  4B
0193:  MOVF   3F,W
0194:  MOVWF  4A
0195:  MOVF   40,W
0196:  MOVWF  49
0197:  MOVF   4B,W
0198:  MOVWF  78
0199:  MOVF   4A,W
019A:  MOVWF  79
019B:  MOVF   49,W
019C:  MOVWF  7A
019D:  GOTO   1D6
019E:  CLRF   77
019F:  CLRF   78
01A0:  CLRF   79
01A1:  CLRF   7A
01A2:  GOTO   1D6
01A3:  CLRF   48
01A4:  COMF   49,F
01A5:  COMF   4A,F
01A6:  COMF   4B,F
01A7:  COMF   48,F
01A8:  INCF   48,F
01A9:  BTFSS  03.2
01AA:  GOTO   1B1
01AB:  INCF   49,F
01AC:  BTFSS  03.2
01AD:  GOTO   1B1
01AE:  INCF   4A,F
01AF:  BTFSC  03.2
01B0:  INCF   4B,F
01B1:  BTFSC  47.0
01B2:  GOTO   0BF
01B3:  BTFSC  47.1
01B4:  GOTO   101
01B5:  BTFSC  47.2
01B6:  GOTO   137
01B7:  GOTO   166
01B8:  MOVF   00,W
01B9:  ADDWF  49,F
01BA:  BTFSS  03.0
01BB:  GOTO   1C2
01BC:  INCF   4A,F
01BD:  BTFSS  03.2
01BE:  GOTO   1C2
01BF:  INCF   4B,F
01C0:  BTFSC  03.2
01C1:  BSF    45.0
01C2:  DECF   04,F
01C3:  MOVF   00,W
01C4:  ADDWF  4A,F
01C5:  BTFSS  03.0
01C6:  GOTO   1CA
01C7:  INCF   4B,F
01C8:  BTFSC  03.2
01C9:  BSF    45.0
01CA:  DECF   04,F
01CB:  MOVF   00,W
01CC:  BTFSS  00.7
01CD:  XORLW  80
01CE:  ADDWF  4B,F
01CF:  BTFSC  03.0
01D0:  BSF    45.0
01D1:  BTFSC  47.4
01D2:  GOTO   0C6
01D3:  BTFSC  47.5
01D4:  GOTO   108
01D5:  GOTO   13E
01D6:  RETURN
01D7:  MOVF   42,W
01D8:  MOVWF  49
01D9:  MOVF   46,W
01DA:  XORWF  49,F
01DB:  BTFSS  49.7
01DC:  GOTO   1E2
01DD:  BCF    03.2
01DE:  BCF    03.0
01DF:  BTFSC  42.7
01E0:  BSF    03.0
01E1:  GOTO   215
01E2:  MOVF   42,W
01E3:  MOVWF  49
01E4:  MOVF   45,W
01E5:  MOVWF  4A
01E6:  MOVF   41,W
01E7:  SUBWF  4A,F
01E8:  BTFSC  03.2
01E9:  GOTO   1F0
01EA:  BTFSS  49.7
01EB:  GOTO   215
01EC:  MOVF   03,W
01ED:  XORLW  01
01EE:  MOVWF  03
01EF:  GOTO   215
01F0:  MOVF   46,W
01F1:  MOVWF  4A
01F2:  MOVF   42,W
01F3:  SUBWF  4A,F
01F4:  BTFSC  03.2
01F5:  GOTO   1FC
01F6:  BTFSS  49.7
01F7:  GOTO   215
01F8:  MOVF   03,W
01F9:  XORLW  01
01FA:  MOVWF  03
01FB:  GOTO   215
01FC:  MOVF   47,W
01FD:  MOVWF  4A
01FE:  MOVF   43,W
01FF:  SUBWF  4A,F
0200:  BTFSC  03.2
0201:  GOTO   208
0202:  BTFSS  49.7
0203:  GOTO   215
0204:  MOVF   03,W
0205:  XORLW  01
0206:  MOVWF  03
0207:  GOTO   215
0208:  MOVF   48,W
0209:  MOVWF  4A
020A:  MOVF   44,W
020B:  SUBWF  4A,F
020C:  BTFSC  03.2
020D:  GOTO   214
020E:  BTFSS  49.7
020F:  GOTO   215
0210:  MOVF   03,W
0211:  XORLW  01
0212:  MOVWF  03
0213:  GOTO   215
0214:  BCF    03.0
0215:  RETURN
0216:  MOVLW  8E
0217:  MOVWF  77
0218:  MOVF   3D,W
0219:  SUBWF  77,F
021A:  MOVF   3E,W
021B:  MOVWF  79
021C:  MOVF   3F,W
021D:  MOVWF  78
021E:  BSF    79.7
021F:  MOVF   77,F
0220:  BTFSC  03.2
0221:  GOTO   22D
0222:  BCF    03.0
0223:  MOVF   79,F
0224:  BTFSS  03.2
0225:  GOTO   229
0226:  MOVF   78,F
0227:  BTFSC  03.2
0228:  GOTO   22D
0229:  RRF    79,F
022A:  RRF    78,F
022B:  DECFSZ 77,F
022C:  GOTO   222
022D:  BTFSS  3E.7
022E:  GOTO   234
022F:  COMF   78,F
0230:  COMF   79,F
0231:  INCF   78,F
0232:  BTFSC  03.2
0233:  INCF   79,F
0234:  RETURN
.................... 
.................... #list
.................... 
.................... #device ADC = 10     // Conversor Anal?gico Digital con  10 bits de resoluci?n
.................... #fuses XT, NOWDT, NOPROTECT, NOLVP, PUT, BROWNOUT, INTRC_IO
.................... #use delay(clock=4000000)
.................... //#include <LCD.C>
.................... #byte PORTA = 5
.................... //#byte PORTD = 8
.................... 
.................... int16 duty = 20;
.................... int Timer2, PostCaler; // Preescaler;
.................... //Para 25KHz, el valor para modular el DutyCycle ser? 40 = 100%
.................... //Por lo tanto duty = 20 implica un DutyCycle de 50%
.................... float V1, V2=0, I1, I2=0, P1, P2;
.................... 
.................... void main(){
0235:  MOVF   03,W
0236:  ANDLW  1F
0237:  MOVWF  03
0238:  MOVLW  61
0239:  BSF    03.5
023A:  MOVWF  0F
023B:  CLRF   10
023C:  MOVF   0F,W
023D:  BCF    03.5
023E:  CLRF   21
023F:  MOVLW  14
0240:  MOVWF  20
0241:  CLRF   2B
0242:  CLRF   2A
0243:  CLRF   29
0244:  CLRF   28
0245:  CLRF   33
0246:  CLRF   32
0247:  CLRF   31
0248:  CLRF   30
0249:  MOVLW  FF
024A:  MOVWF  3C
024B:  BSF    03.5
024C:  BSF    03.6
024D:  MOVF   09,W
024E:  ANDLW  C0
024F:  MOVWF  09
0250:  BCF    03.6
0251:  BCF    1F.4
0252:  BCF    1F.5
0253:  MOVLW  00
0254:  BSF    03.6
0255:  MOVWF  08
0256:  BCF    03.5
0257:  CLRF   07
0258:  CLRF   08
0259:  CLRF   09
025A:  BCF    03.7
....................     
....................     //Para la PWM de 25Khz es necesario un Timer2=9, cuando la frecuencia del cristal es de 4Mhz,
....................     //el PostCaler=1 y Preescaler=4, en base a la siguiente f?rmula:
....................     //Timer2 = (Td*fxtal/(4*Preescaler-PostCaler)) - 1
....................     Timer2 = 9;         //Para este valor del Timer se puede alcanzar una f=10KHz
025B:  MOVLW  09
025C:  BCF    03.6
025D:  MOVWF  22
....................     PostCaler = 1;      // S?lo puede tomar valores de 1, 4 o 16, igual que el preescaler
025E:  MOVLW  01
025F:  MOVWF  23
....................     //Preescaler = 4;
....................     
....................     setup_timer_2(t2_div_by_4, Timer2, PostCaler);    //Configuraci?n del timer 2, preescaler=4, timer2=9, postcaler=1
0260:  SUBWF  23,W
0261:  MOVWF  78
0262:  RLF    78,W
0263:  MOVWF  77
0264:  RLF    77,F
0265:  RLF    77,F
0266:  MOVLW  F8
0267:  ANDWF  77,F
0268:  MOVF   77,W
0269:  IORLW  05
026A:  MOVWF  12
026B:  MOVF   22,W
026C:  BSF    03.5
026D:  MOVWF  12
....................     setup_ccp1(ccp_pwm);                              //Con esto estamos configurando el modo PWM en la salida ccp1 (pin RC2)
026E:  BCF    03.5
026F:  BCF    3C.2
0270:  MOVF   3C,W
0271:  BSF    03.5
0272:  MOVWF  07
0273:  BCF    03.5
0274:  BCF    07.2
0275:  MOVLW  0C
0276:  MOVWF  17
0277:  BSF    03.5
0278:  CLRF   1B
0279:  CLRF   1C
027A:  MOVLW  01
027B:  MOVWF  1D
....................     setup_adc_ports(all_analog);                      //Todos los puertos analogicos quedaran como analogicos
027C:  BSF    03.6
027D:  MOVF   09,W
027E:  ANDLW  C0
027F:  IORLW  1F
0280:  MOVWF  09
0281:  BCF    03.6
0282:  BCF    1F.4
0283:  BCF    1F.5
0284:  MOVLW  FF
0285:  BSF    03.6
0286:  MOVWF  08
....................     setup_adc(adc_clock_internal);                    //Configuramos la velocidad del ADC
0287:  BCF    03.5
0288:  BCF    03.6
0289:  BSF    1F.6
028A:  BSF    1F.7
028B:  BSF    03.5
028C:  BSF    1F.7
028D:  BCF    03.5
028E:  BSF    1F.0
....................     set_tris_a(0b00000011);                           //Configuro los pines RA0 y RA1 como entradas
028F:  MOVLW  03
0290:  BSF    03.5
0291:  MOVWF  05
....................     //lcd_init();
....................     //lcd_putc("\f");
....................     
....................     
....................     while(1){
....................     
....................        set_pwm1_duty(duty);                //Se confiugura el dutycycle de la PWM 
0292:  BCF    03.5
0293:  MOVF   21,W
0294:  MOVWF  79
0295:  MOVF   20,W
0296:  MOVWF  78
0297:  RRF    79,F
0298:  RRF    78,F
0299:  RRF    79,F
029A:  RRF    78,F
029B:  RRF    79,F
029C:  MOVF   78,W
029D:  MOVWF  15
029E:  RRF    79,F
029F:  RRF    79,W
02A0:  ANDLW  30
02A1:  MOVWF  77
02A2:  MOVF   17,W
02A3:  ANDLW  CF
02A4:  IORWF  77,W
02A5:  MOVWF  17
....................        
....................        /*------Imprimir datos en LCD---------*/
....................        //lcd_gotoxy(1,1);                  //Ubiquese en la posicion 1,1
....................        //lcd_putc("El Duty Cycle es:");
....................        //lcd_gotoxy(2,2);                  //Ubiquese en la posicion 2,2
....................        //printf(lcd_putc,"D = %i",duty);   //Muestra el valor numerico de la conversionconversion
....................        //delay_ms(1000);
....................        //lcd_putc("\f");                   // Borramos LCD
....................          
....................        set_adc_channel(0);          //Selecciono el canal 0 (RA0)
02A6:  MOVLW  00
02A7:  MOVWF  78
02A8:  MOVF   1F,W
02A9:  ANDLW  C3
02AA:  IORWF  78,W
02AB:  MOVWF  1F
....................        delay_us(20);                //Retardo de 50 us para leer la data
02AC:  MOVLW  06
02AD:  MOVWF  77
02AE:  DECFSZ 77,F
02AF:  GOTO   2AE
02B0:  NOP
....................        V1=read_adc();               //Guardo en bits el voltaje leido por el canal 0
02B1:  BSF    1F.1
02B2:  BTFSC  1F.1
02B3:  GOTO   2B2
02B4:  MOVF   1E,W
02B5:  MOVWF  79
02B6:  BSF    03.5
02B7:  MOVF   1E,W
02B8:  MOVWF  78
02B9:  MOVF   79,W
02BA:  MOVWF  7A
02BB:  MOVF   1E,W
02BC:  BCF    03.5
02BD:  MOVWF  3D
02BE:  MOVF   79,W
02BF:  MOVWF  3E
02C0:  CALL   004
02C1:  MOVF   7A,W
02C2:  MOVWF  27
02C3:  MOVF   79,W
02C4:  MOVWF  26
02C5:  MOVF   78,W
02C6:  MOVWF  25
02C7:  MOVF   77,W
02C8:  MOVWF  24
....................        V1 = V1*0.0048828125;        //Valor real del voltaje medido
02C9:  MOVF   27,W
02CA:  MOVWF  40
02CB:  MOVF   26,W
02CC:  MOVWF  3F
02CD:  MOVF   25,W
02CE:  MOVWF  3E
02CF:  MOVF   24,W
02D0:  MOVWF  3D
02D1:  CLRF   44
02D2:  CLRF   43
02D3:  MOVLW  20
02D4:  MOVWF  42
02D5:  MOVLW  77
02D6:  MOVWF  41
02D7:  CALL   021
02D8:  MOVF   7A,W
02D9:  MOVWF  27
02DA:  MOVF   79,W
02DB:  MOVWF  26
02DC:  MOVF   78,W
02DD:  MOVWF  25
02DE:  MOVF   77,W
02DF:  MOVWF  24
....................        
....................        set_adc_channel(1);          //Selecciono el canal 1 (RA1)
02E0:  MOVLW  04
02E1:  MOVWF  78
02E2:  MOVF   1F,W
02E3:  ANDLW  C3
02E4:  IORWF  78,W
02E5:  MOVWF  1F
....................        delay_us(20);                //Retardo de 50 us para leer la data
02E6:  MOVLW  06
02E7:  MOVWF  77
02E8:  DECFSZ 77,F
02E9:  GOTO   2E8
02EA:  NOP
....................        I1=read_adc();               //Guardo en bits la corriente leida por el canal 1
02EB:  BSF    1F.1
02EC:  BTFSC  1F.1
02ED:  GOTO   2EC
02EE:  MOVF   1E,W
02EF:  MOVWF  79
02F0:  BSF    03.5
02F1:  MOVF   1E,W
02F2:  MOVWF  78
02F3:  MOVF   79,W
02F4:  MOVWF  7A
02F5:  MOVF   1E,W
02F6:  BCF    03.5
02F7:  MOVWF  3D
02F8:  MOVF   79,W
02F9:  MOVWF  3E
02FA:  CALL   004
02FB:  MOVF   7A,W
02FC:  MOVWF  2F
02FD:  MOVF   79,W
02FE:  MOVWF  2E
02FF:  MOVF   78,W
0300:  MOVWF  2D
0301:  MOVF   77,W
0302:  MOVWF  2C
....................        I1= I1*0.0048828125;         //Valor real del voltaje medido
0303:  MOVF   2F,W
0304:  MOVWF  40
0305:  MOVF   2E,W
0306:  MOVWF  3F
0307:  MOVF   2D,W
0308:  MOVWF  3E
0309:  MOVF   2C,W
030A:  MOVWF  3D
030B:  CLRF   44
030C:  CLRF   43
030D:  MOVLW  20
030E:  MOVWF  42
030F:  MOVLW  77
0310:  MOVWF  41
0311:  CALL   021
0312:  MOVF   7A,W
0313:  MOVWF  2F
0314:  MOVF   79,W
0315:  MOVWF  2E
0316:  MOVF   78,W
0317:  MOVWF  2D
0318:  MOVF   77,W
0319:  MOVWF  2C
....................   
....................    /*-----------Algoritmo MPPT----------*/
....................        P1 = V1*I1;
031A:  MOVF   27,W
031B:  MOVWF  40
031C:  MOVF   26,W
031D:  MOVWF  3F
031E:  MOVF   25,W
031F:  MOVWF  3E
0320:  MOVF   24,W
0321:  MOVWF  3D
0322:  MOVF   2F,W
0323:  MOVWF  44
0324:  MOVF   2E,W
0325:  MOVWF  43
0326:  MOVF   2D,W
0327:  MOVWF  42
0328:  MOVF   2C,W
0329:  MOVWF  41
032A:  CALL   021
032B:  MOVF   7A,W
032C:  MOVWF  37
032D:  MOVF   79,W
032E:  MOVWF  36
032F:  MOVF   78,W
0330:  MOVWF  35
0331:  MOVF   77,W
0332:  MOVWF  34
....................        P2 = V2*I2;
0333:  MOVF   2B,W
0334:  MOVWF  40
0335:  MOVF   2A,W
0336:  MOVWF  3F
0337:  MOVF   29,W
0338:  MOVWF  3E
0339:  MOVF   28,W
033A:  MOVWF  3D
033B:  MOVF   33,W
033C:  MOVWF  44
033D:  MOVF   32,W
033E:  MOVWF  43
033F:  MOVF   31,W
0340:  MOVWF  42
0341:  MOVF   30,W
0342:  MOVWF  41
0343:  CALL   021
0344:  MOVF   7A,W
0345:  MOVWF  3B
0346:  MOVF   79,W
0347:  MOVWF  3A
0348:  MOVF   78,W
0349:  MOVWF  39
034A:  MOVF   77,W
034B:  MOVWF  38
....................        
....................        if(P1-P2 == 0){
034C:  BSF    03.1
034D:  MOVF   37,W
034E:  MOVWF  40
034F:  MOVF   36,W
0350:  MOVWF  3F
0351:  MOVF   35,W
0352:  MOVWF  3E
0353:  MOVF   34,W
0354:  MOVWF  3D
0355:  MOVF   3B,W
0356:  MOVWF  44
0357:  MOVF   3A,W
0358:  MOVWF  43
0359:  MOVF   39,W
035A:  MOVWF  42
035B:  MOVF   38,W
035C:  MOVWF  41
035D:  CALL   096
035E:  MOVF   7A,W
035F:  MOVWF  40
0360:  MOVF   79,W
0361:  MOVWF  3F
0362:  MOVF   78,W
0363:  MOVWF  3E
0364:  MOVF   77,W
0365:  MOVWF  3D
0366:  MOVF   40,W
0367:  MOVWF  44
0368:  MOVF   3F,W
0369:  MOVWF  43
036A:  MOVF   3E,W
036B:  MOVWF  42
036C:  MOVF   3D,W
036D:  MOVWF  41
036E:  CLRF   48
036F:  CLRF   47
0370:  CLRF   46
0371:  CLRF   45
0372:  CALL   1D7
0373:  BTFSC  03.2
....................          duty = duty;
....................        }
0374:  GOTO   4C2
....................        else{
....................           if(P1 - P2 > 0){
0375:  BSF    03.1
0376:  MOVF   37,W
0377:  MOVWF  40
0378:  MOVF   36,W
0379:  MOVWF  3F
037A:  MOVF   35,W
037B:  MOVWF  3E
037C:  MOVF   34,W
037D:  MOVWF  3D
037E:  MOVF   3B,W
037F:  MOVWF  44
0380:  MOVF   3A,W
0381:  MOVWF  43
0382:  MOVF   39,W
0383:  MOVWF  42
0384:  MOVF   38,W
0385:  MOVWF  41
0386:  CALL   096
0387:  MOVF   7A,W
0388:  MOVWF  40
0389:  MOVF   79,W
038A:  MOVWF  3F
038B:  MOVF   78,W
038C:  MOVWF  3E
038D:  MOVF   77,W
038E:  MOVWF  3D
038F:  CLRF   44
0390:  CLRF   43
0391:  CLRF   42
0392:  CLRF   41
0393:  MOVF   40,W
0394:  MOVWF  48
0395:  MOVF   3F,W
0396:  MOVWF  47
0397:  MOVF   3E,W
0398:  MOVWF  46
0399:  MOVF   3D,W
039A:  MOVWF  45
039B:  CALL   1D7
039C:  BTFSS  03.0
039D:  GOTO   456
....................             if(V1 - V2 > 0){
039E:  BSF    03.1
039F:  MOVF   27,W
03A0:  MOVWF  40
03A1:  MOVF   26,W
03A2:  MOVWF  3F
03A3:  MOVF   25,W
03A4:  MOVWF  3E
03A5:  MOVF   24,W
03A6:  MOVWF  3D
03A7:  MOVF   2B,W
03A8:  MOVWF  44
03A9:  MOVF   2A,W
03AA:  MOVWF  43
03AB:  MOVF   29,W
03AC:  MOVWF  42
03AD:  MOVF   28,W
03AE:  MOVWF  41
03AF:  CALL   096
03B0:  MOVF   7A,W
03B1:  MOVWF  40
03B2:  MOVF   79,W
03B3:  MOVWF  3F
03B4:  MOVF   78,W
03B5:  MOVWF  3E
03B6:  MOVF   77,W
03B7:  MOVWF  3D
03B8:  CLRF   44
03B9:  CLRF   43
03BA:  CLRF   42
03BB:  CLRF   41
03BC:  MOVF   40,W
03BD:  MOVWF  48
03BE:  MOVF   3F,W
03BF:  MOVWF  47
03C0:  MOVF   3E,W
03C1:  MOVWF  46
03C2:  MOVF   3D,W
03C3:  MOVWF  45
03C4:  CALL   1D7
03C5:  BTFSS  03.0
03C6:  GOTO   434
....................                if(I1 - I2 > 0){
03C7:  BSF    03.1
03C8:  MOVF   2F,W
03C9:  MOVWF  40
03CA:  MOVF   2E,W
03CB:  MOVWF  3F
03CC:  MOVF   2D,W
03CD:  MOVWF  3E
03CE:  MOVF   2C,W
03CF:  MOVWF  3D
03D0:  MOVF   33,W
03D1:  MOVWF  44
03D2:  MOVF   32,W
03D3:  MOVWF  43
03D4:  MOVF   31,W
03D5:  MOVWF  42
03D6:  MOVF   30,W
03D7:  MOVWF  41
03D8:  CALL   096
03D9:  MOVF   7A,W
03DA:  MOVWF  40
03DB:  MOVF   79,W
03DC:  MOVWF  3F
03DD:  MOVF   78,W
03DE:  MOVWF  3E
03DF:  MOVF   77,W
03E0:  MOVWF  3D
03E1:  CLRF   44
03E2:  CLRF   43
03E3:  CLRF   42
03E4:  CLRF   41
03E5:  MOVF   40,W
03E6:  MOVWF  48
03E7:  MOVF   3F,W
03E8:  MOVWF  47
03E9:  MOVF   3E,W
03EA:  MOVWF  46
03EB:  MOVF   3D,W
03EC:  MOVWF  45
03ED:  CALL   1D7
03EE:  BTFSS  03.0
03EF:  GOTO   412
....................                   duty = duty + 0.5;
03F0:  MOVF   21,W
03F1:  MOVWF  3E
03F2:  MOVF   20,W
03F3:  MOVWF  3D
03F4:  CALL   004
03F5:  BCF    03.1
03F6:  MOVF   7A,W
03F7:  MOVWF  40
03F8:  MOVF   79,W
03F9:  MOVWF  3F
03FA:  MOVF   78,W
03FB:  MOVWF  3E
03FC:  MOVF   77,W
03FD:  MOVWF  3D
03FE:  CLRF   44
03FF:  CLRF   43
0400:  CLRF   42
0401:  MOVLW  7E
0402:  MOVWF  41
0403:  CALL   096
0404:  MOVF   7A,W
0405:  MOVWF  40
0406:  MOVF   79,W
0407:  MOVWF  3F
0408:  MOVF   78,W
0409:  MOVWF  3E
040A:  MOVF   77,W
040B:  MOVWF  3D
040C:  CALL   216
040D:  MOVF   79,W
040E:  MOVWF  21
040F:  MOVF   78,W
0410:  MOVWF  20
....................                }
0411:  GOTO   433
....................                else{
....................                   duty = duty - 0.5;
0412:  MOVF   21,W
0413:  MOVWF  3E
0414:  MOVF   20,W
0415:  MOVWF  3D
0416:  CALL   004
0417:  BSF    03.1
0418:  MOVF   7A,W
0419:  MOVWF  40
041A:  MOVF   79,W
041B:  MOVWF  3F
041C:  MOVF   78,W
041D:  MOVWF  3E
041E:  MOVF   77,W
041F:  MOVWF  3D
0420:  CLRF   44
0421:  CLRF   43
0422:  CLRF   42
0423:  MOVLW  7E
0424:  MOVWF  41
0425:  CALL   096
0426:  MOVF   7A,W
0427:  MOVWF  40
0428:  MOVF   79,W
0429:  MOVWF  3F
042A:  MOVF   78,W
042B:  MOVWF  3E
042C:  MOVF   77,W
042D:  MOVWF  3D
042E:  CALL   216
042F:  MOVF   79,W
0430:  MOVWF  21
0431:  MOVF   78,W
0432:  MOVWF  20
....................                }
....................             }
0433:  GOTO   455
....................             else{
....................                duty = duty + 0.5;
0434:  MOVF   21,W
0435:  MOVWF  3E
0436:  MOVF   20,W
0437:  MOVWF  3D
0438:  CALL   004
0439:  BCF    03.1
043A:  MOVF   7A,W
043B:  MOVWF  40
043C:  MOVF   79,W
043D:  MOVWF  3F
043E:  MOVF   78,W
043F:  MOVWF  3E
0440:  MOVF   77,W
0441:  MOVWF  3D
0442:  CLRF   44
0443:  CLRF   43
0444:  CLRF   42
0445:  MOVLW  7E
0446:  MOVWF  41
0447:  CALL   096
0448:  MOVF   7A,W
0449:  MOVWF  40
044A:  MOVF   79,W
044B:  MOVWF  3F
044C:  MOVF   78,W
044D:  MOVWF  3E
044E:  MOVF   77,W
044F:  MOVWF  3D
0450:  CALL   216
0451:  MOVF   79,W
0452:  MOVWF  21
0453:  MOVF   78,W
0454:  MOVWF  20
....................             }
....................           }
0455:  GOTO   4C2
....................           else{
....................             if(V1 - V2 > 0){
0456:  BSF    03.1
0457:  MOVF   27,W
0458:  MOVWF  40
0459:  MOVF   26,W
045A:  MOVWF  3F
045B:  MOVF   25,W
045C:  MOVWF  3E
045D:  MOVF   24,W
045E:  MOVWF  3D
045F:  MOVF   2B,W
0460:  MOVWF  44
0461:  MOVF   2A,W
0462:  MOVWF  43
0463:  MOVF   29,W
0464:  MOVWF  42
0465:  MOVF   28,W
0466:  MOVWF  41
0467:  CALL   096
0468:  MOVF   7A,W
0469:  MOVWF  40
046A:  MOVF   79,W
046B:  MOVWF  3F
046C:  MOVF   78,W
046D:  MOVWF  3E
046E:  MOVF   77,W
046F:  MOVWF  3D
0470:  CLRF   44
0471:  CLRF   43
0472:  CLRF   42
0473:  CLRF   41
0474:  MOVF   40,W
0475:  MOVWF  48
0476:  MOVF   3F,W
0477:  MOVWF  47
0478:  MOVF   3E,W
0479:  MOVWF  46
047A:  MOVF   3D,W
047B:  MOVWF  45
047C:  CALL   1D7
047D:  BTFSS  03.0
047E:  GOTO   4A1
....................                duty = duty + 0.5;
047F:  MOVF   21,W
0480:  MOVWF  3E
0481:  MOVF   20,W
0482:  MOVWF  3D
0483:  CALL   004
0484:  BCF    03.1
0485:  MOVF   7A,W
0486:  MOVWF  40
0487:  MOVF   79,W
0488:  MOVWF  3F
0489:  MOVF   78,W
048A:  MOVWF  3E
048B:  MOVF   77,W
048C:  MOVWF  3D
048D:  CLRF   44
048E:  CLRF   43
048F:  CLRF   42
0490:  MOVLW  7E
0491:  MOVWF  41
0492:  CALL   096
0493:  MOVF   7A,W
0494:  MOVWF  40
0495:  MOVF   79,W
0496:  MOVWF  3F
0497:  MOVF   78,W
0498:  MOVWF  3E
0499:  MOVF   77,W
049A:  MOVWF  3D
049B:  CALL   216
049C:  MOVF   79,W
049D:  MOVWF  21
049E:  MOVF   78,W
049F:  MOVWF  20
....................             }
04A0:  GOTO   4C2
....................             else{
....................                   duty = duty - 0.5;
04A1:  MOVF   21,W
04A2:  MOVWF  3E
04A3:  MOVF   20,W
04A4:  MOVWF  3D
04A5:  CALL   004
04A6:  BSF    03.1
04A7:  MOVF   7A,W
04A8:  MOVWF  40
04A9:  MOVF   79,W
04AA:  MOVWF  3F
04AB:  MOVF   78,W
04AC:  MOVWF  3E
04AD:  MOVF   77,W
04AE:  MOVWF  3D
04AF:  CLRF   44
04B0:  CLRF   43
04B1:  CLRF   42
04B2:  MOVLW  7E
04B3:  MOVWF  41
04B4:  CALL   096
04B5:  MOVF   7A,W
04B6:  MOVWF  40
04B7:  MOVF   79,W
04B8:  MOVWF  3F
04B9:  MOVF   78,W
04BA:  MOVWF  3E
04BB:  MOVF   77,W
04BC:  MOVWF  3D
04BD:  CALL   216
04BE:  MOVF   79,W
04BF:  MOVWF  21
04C0:  MOVF   78,W
04C1:  MOVWF  20
....................             }
....................           }  
....................        }
....................        V2 = V1;
04C2:  MOVF   27,W
04C3:  MOVWF  2B
04C4:  MOVF   26,W
04C5:  MOVWF  2A
04C6:  MOVF   25,W
04C7:  MOVWF  29
04C8:  MOVF   24,W
04C9:  MOVWF  28
....................        I2 = I1;
04CA:  MOVF   2F,W
04CB:  MOVWF  33
04CC:  MOVF   2E,W
04CD:  MOVWF  32
04CE:  MOVF   2D,W
04CF:  MOVWF  31
04D0:  MOVF   2C,W
04D1:  MOVWF  30
04D2:  GOTO   293
....................     }
.................... }
04D3:  SLEEP

Configuration Fuses:
   Word  1: 2FE4   INTRC_IO NOWDT PUT MCLR NOPROTECT NOCPD BROWNOUT IESO FCMEN NOLVP NODEBUG
   Word  2: 3FFF   BORV40 NOWRT
